(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{30:function(t,e,a){t.exports=a(51)},40:function(t,e,a){},41:function(t,e,a){},42:function(t,e,a){},48:function(t,e,a){},49:function(t,e,a){},50:function(t,e,a){},51:function(t,e,a){"use strict";a.r(e);var n=a(0),s=a.n(n),i=a(17),r=a(20),c=a(13),o=a(22),l=a(14),u=a(29),d=a(2),m={tasksListLoaded:!1,tasksList:[],editable:!1};function p(t){return{type:"tasksListLoaded",data:t}}function f(t,e){return{type:"formEditable",status:t,taskDetails:e||null}}a(39),a(40);var k=a(7),b=a(8),h=a(11),v=a(9),j=a(10),O=(a(41),function(t){function e(){return Object(k.a)(this,e),Object(h.a)(this,Object(v.a)(e).apply(this,arguments))}return Object(j.a)(e,t),Object(b.a)(e,[{key:"render",value:function(){return s.a.createElement("div",{className:"App"},this.props.children)}}]),e}(n.Component)),E=(a(42),function(t){function e(){var t,a;Object(k.a)(this,e);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(a=Object(h.a)(this,(t=Object(v.a)(e)).call.apply(t,[this].concat(s)))).state=Object(d.a)({},a.props.settings),a.taskHeader=null,a.taskStatus=function(){!a.state.animate&&a.setState(Object(d.a)({},a.state,{animate:!0})),a.props.changeTaskStatus(a.state.id,!a.state.done)},a.showTaskDetails=function(){a.props.history.push("/task-details",a.state)},a.editTask=function(){a.props.formEditable(!0,a.state)},a.deleteTask=function(){a.props.deleteTask(a.state.id),a.props.editStatus&&a.state.id===a.props.taskDetails.id&&a.props.formEditable(!1)},a}return Object(j.a)(e,t),Object(b.a)(e,[{key:"componentWillReceiveProps",value:function(t){this.setState(Object(d.a)({},t.settings))}},{key:"render",value:function(){var t=this,e=this.state.animate?"animate":"",a=this.state.done?"done":"undone";return s.a.createElement("div",{className:"task ".concat(a," ").concat(e),ref:function(e){return t.taskHeader=e}},s.a.createElement("div",{className:"task-container form-group d-flex align-items-center my-1"},s.a.createElement("input",{type:"checkbox",className:"task-check mr-1",onChange:this.taskStatus,checked:!!this.state.done}),s.a.createElement("input",{className:"task-title form-control",readOnly:!0,value:this.state.title,onClick:this.showTaskDetails}),s.a.createElement("button",{className:"btn btn-warning",onClick:this.editTask},"\u270e"),s.a.createElement("button",{className:"btn btn-danger",onClick:this.deleteTask},"\xd7")))}}]),e}(n.Component)),T=Object(l.e)(Object(c.b)(function(t){return{editStatus:t.editable,taskDetails:t.taskDetails}},function(t){return{deleteTask:function(e){t(function(t){return{type:"deleteTask",id:t}}(e))},formEditable:function(e,a){t(f(e,a))},changeTaskStatus:function(e,a){t(function(t,e){return{type:"changeTaskStatus",id:t,done:e}}(e,a))}}})(E));a(48);var y=function(t){function e(){var t,a;Object(k.a)(this,e);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(a=Object(h.a)(this,(t=Object(v.a)(e)).call.apply(t,[this].concat(s)))).state={buttonTitle:"+"},a.taskTitle=null,a.taskDescription=null,a.buttonTitle=null,a.submit=function(){a.taskTitle.value?a.props.editStatus?(a.props.editTask(a.taskTitle.value,a.taskDescription.value,a.props.taskDetails.id),a.props.editable(!1)):a.props.addTask(a.taskTitle.value,a.taskDescription.value):a.taskTitle.focus(),a.taskTitle.value=null,a.taskDescription.value=null},a}return Object(j.a)(e,t),Object(b.a)(e,[{key:"componentWillReceiveProps",value:function(t){this.taskTitle.value=t.taskDetails?t.taskDetails.title:null,this.taskDescription.value=t.taskDetails?t.taskDetails.description:null,this.setState(Object(d.a)({},this.state,{buttonTitle:t.editStatus?"save":"+"}))}},{key:"render",value:function(){var t=this;return s.a.createElement("div",{className:"todo-form card m-2 bg-light"},s.a.createElement("div",{className:"card-body"},s.a.createElement("div",{className:"form-group d-flex justify-content-center mt-3 title"},s.a.createElement("input",{className:"form-control",placeholder:"Title",ref:function(e){return t.taskTitle=e}}),s.a.createElement("button",{className:"btn btn-primary btn-form",onClick:this.submit,ref:function(e){return t.buttonTitle=e}},this.state.buttonTitle)),s.a.createElement("div",{className:"form-group form-inline justify-content-center description"},s.a.createElement("input",{className:"form-control",placeholder:"Description",ref:function(e){return t.taskDescription=e}}))))}}]),e}(n.Component),g=Object(c.b)(function(t){return{editStatus:t.editable,taskDetails:t.taskDetails}},function(t){return{addTask:function(e,a){var n,s;t((n=e,s=a,{type:"addTask",data:{id:function(){for(var t="",e="0123456789qwertyuiopasdfghjklzxcvbnmQWERTYUIOPASDFGHJKLZXCVBNM";t.length<15;)t+=e[Math.floor(Math.random()*e.length)];return t}(),title:n,description:s}}))},editTask:function(e,a,n){t(function(t,e,a){return{type:"editTask",data:{id:a,title:t,description:e}}}(e,a,n))},editable:function(e){t(f(e))}}})(y),N=(a(49),function(t){function e(){return Object(k.a)(this,e),Object(h.a)(this,Object(v.a)(e).apply(this,arguments))}return Object(j.a)(e,t),Object(b.a)(e,[{key:"render",value:function(){var t=this.props.tasks.map(function(t){return s.a.createElement(T,{key:t.id,settings:t})});return s.a.createElement("div",{className:"todo-container todo-frame"},s.a.createElement("div",{className:"todo-list"},s.a.createElement("div",{className:"frame-header"},s.a.createElement("div",{className:"frame-title"},"Todo List")),s.a.createElement("div",{className:"list mt-1"},t)),s.a.createElement(g,null))}}]),e}(n.Component)),L=Object(c.b)(function(t){return{tasks:t.tasksList}},null)(N),D=(a(50),function(t){function e(){var t,a;Object(k.a)(this,e);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(a=Object(h.a)(this,(t=Object(v.a)(e)).call.apply(t,[this].concat(s)))).back=function(){a.props.history.push("/")},a}return Object(j.a)(e,t),Object(b.a)(e,[{key:"render",value:function(){var t=this.props.location.state;return s.a.createElement("div",{className:"task-details todo-frame"},s.a.createElement("div",{className:"frame-header"},"Task details"),s.a.createElement("div",{className:"form-wrapper mx-auto"},s.a.createElement("input",{disabled:!0,className:"form-control form-inline title my-3 ",value:t.title}),s.a.createElement("input",{disabled:!0,className:"form-control description my-3",value:t.description}),s.a.createElement("button",{className:"btn btn-success mb-3",onClick:this.back},"Back")))}}]),e}(n.Component)),w=Object(r.b)(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"tasksListLoaded":return Object(d.a)({},t,{tasksListLoaded:!0,tasksList:e.data});case"addTask":return Object(d.a)({},t,{tasksList:[].concat(Object(u.a)(t.tasksList),[e.data])});case"editTask":return Object(d.a)({},t,{tasksList:t.tasksList.map(function(t){return t.id===e.data.id?e.data:t})});case"deleteTask":return Object(d.a)({},t,{tasksList:t.tasksList.filter(function(t){return t.id!==e.id})});case"formEditable":return Object(d.a)({},t,{editable:e.status,taskDetails:e.taskDetails});case"changeTaskStatus":return Object(d.a)({},t,{tasksList:t.tasksList.map(function(t){return t.id===e.id?Object(d.a)({},t,{done:e.done}):t})});default:return t}}),S=e.default=w;if(window.localStorage.getItem("tasksList")){var C=JSON.parse(window.localStorage.getItem("tasksList"));w.dispatch(p(C))}else fetch("/todolist-react/tasksList.json").then(function(t){return t.json()}).then(function(t){window.localStorage.setItem("tasksList",JSON.stringify(t)),S.dispatch(p(t))}).catch(function(t){return console.error("ERROR",t)});Object(i.render)(s.a.createElement(c.a,{store:w},s.a.createElement(o.a,null,s.a.createElement(O,null,s.a.createElement(l.c,null,s.a.createElement(l.a,{exact:!0,path:"/todolist-react/",component:L}),s.a.createElement(l.a,{path:"/todolist-react/task-details",component:function(t){return s.a.createElement(D,t)}}))))),document.getElementById("root"))}},[[30,1,2]]]);
//# sourceMappingURL=main.330e2331.chunk.js.map
